var CompositeSearch=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,n,i){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function a(e,t,n=t){return e.set(n),t}const c="undefined"!=typeof window;let d=c?()=>window.performance.now():()=>Date.now(),u=c?e=>requestAnimationFrame(e):e;const f=new Set;function p(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&u(p)}function h(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e){return document.createTextNode(e)}function w(){return $(" ")}function b(){return $("")}function x(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function L(e,t,n){e.classList[n?"add":"remove"](t)}class A{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=v(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)g(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(m)}}const O=new Set;let _,T=0;function C(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),T-=o,T||u((()=>{T||(O.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),O.clear())})))}function S(n,i,o,r){if(!i)return e;const l=n.getBoundingClientRect();if(i.left===l.left&&i.right===l.right&&i.top===l.top&&i.bottom===l.bottom)return e;const{delay:s=0,duration:a=300,easing:c=t,start:h=d()+s,end:g=h+a,tick:m=e,css:y}=o(n,{from:i,to:l},r);let $,w=!0,b=!1;function x(){y&&C(n,$),w=!1}return function(e){let t;0===f.size&&u(p),new Promise((n=>{f.add(t={c:e,f:n})}))}((e=>{if(!b&&e>=h&&(b=!0),b&&e>=g&&(m(1,0),x()),!w)return!1;if(b){const t=0+1*c((e-h)/a);m(t,1-t)}return!0})),y&&($=function(e,t,n,i,o,r,l,s=0){const a=16.666/i;let c="{\n";for(let e=0;e<=1;e+=a){const i=t+(n-t)*r(e);c+=100*e+`%{${l(i,1-i)}}\n`}const d=c+`100% {${l(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,f=e.ownerDocument;O.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${u} ${i}ms linear ${o}ms 1 both`,T+=1,u}(n,0,1,a,s,c,y)),s||(b=!0),m(0,1),x}function M(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:i}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),o="none"===i.transform?"":i.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,o)}}function j(e){_=e}function N(){const e=function(){if(!_)throw new Error("Function called outside component initialization");return _}();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach((t=>{t.call(e,o)}))}}}const W=[],B=[],I=[],F=[],P=Promise.resolve();let q=!1;function R(){q||(q=!0,P.then(X))}function z(e){I.push(e)}function H(e){F.push(e)}let Z=!1;const V=new Set;function X(){if(!Z){Z=!0;do{for(let e=0;e<W.length;e+=1){const t=W[e];j(t),U(t.$$)}for(j(null),W.length=0;B.length;)B.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];V.has(t)||(V.add(t),t())}I.length=0}while(W.length);for(;F.length;)F.pop()();q=!1,Z=!1,V.clear()}}function U(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const Y=new Set;let G;function J(){G={r:0,c:[],p:G}}function K(){G.r||o(G.c),G=G.p}function Q(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function ee(e,t,n,i){if(e&&e.o){if(Y.has(e))return;Y.add(e),G.c.push((()=>{Y.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}}function te(e,t){e.d(1),t.delete(e.key)}function ne(e,t){e.f(),function(e,t){ee(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function ie(e,t,n,i,o,r,l,s,a,c,d,u){let f=e.length,p=r.length,h=f;const g={};for(;h--;)g[e[h].key]=h;const m=[],v=new Map,y=new Map;for(h=p;h--;){const e=u(o,r,h),s=n(e);let a=l.get(s);a?i&&a.p(e,t):(a=c(s,e),a.c()),v.set(s,m[h]=a),s in g&&y.set(s,Math.abs(h-g[s]))}const $=new Set,w=new Set;function b(e){Q(e,1),e.m(s,d),l.set(e.key,e),d=e.first,p--}for(;f&&p;){const t=m[p-1],n=e[f-1],i=t.key,o=n.key;t===n?(d=t.first,f--,p--):v.has(o)?!l.has(i)||$.has(i)?b(t):w.has(o)?f--:y.get(i)>y.get(o)?(w.add(i),b(t)):($.add(o),f--):(a(n,l),f--)}for(;f--;){const t=e[f];v.has(t.key)||a(t,l)}for(;p;)b(m[p-1]);return m}function oe(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function re(e){e&&e.c()}function le(e,t,i,l){const{fragment:s,on_mount:a,on_destroy:c,after_update:d}=e.$$;s&&s.m(t,i),l||z((()=>{const t=a.map(n).filter(r);c?c.push(...t):o(t),e.$$.on_mount=[]})),d.forEach(z)}function se(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(t,n,r,l,s,a,c=[-1]){const d=_;j(t);const u=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(u.ctx=r?r(t,n.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return u.ctx&&s(u.ctx[e],u.ctx[e]=o)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(W.push(e),R(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],u.update(),f=!0,o(u.before_update),u.fragment=!!l&&l(u.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);u.fragment&&u.fragment.l(e),e.forEach(m)}else u.fragment&&u.fragment.c();n.intro&&Q(t.$$.fragment),le(t,n.target,n.anchor,n.customElement),X()}j(d)}class ce{$destroy(){se(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const de=[];function ue(t,n=e){let i;const o=[];function r(e){if(l(t,e)&&(t=e,i)){const e=!de.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),de.push(n,t)}if(e){for(let e=0;e<de.length;e+=2)de[e][0](de[e+1]);de.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,s=e){const a=[l,s];return o.push(a),1===o.length&&(i=n(r)||e),l(t),()=>{const e=o.indexOf(a);-1!==e&&o.splice(e,1),0===o.length&&(i(),i=null)}}}}class fe{static setDefinitions(e,t){this.definitions={};const n=t.length?t:Object.keys(e);this.default=n[0];for(let t of n)this.definitions[t]=e[t],e[t].default&&(this.default=t)}}fe.definitions={};const pe=function(e=!1){const{subscribe:t,set:n,update:i}=ue(e);return{subscribe:t,set:n,enable:()=>n(!0),disable:()=>n(!1),toggle:()=>i((e=>!e))}}(),he=function(e=[]){const{subscribe:t,set:n,update:i}=ue(e);let o=0;return{subscribe:t,set:e=>n(e.map((e=>e.id?e:Object.assign({id:++o},e)))),addDefault:function(){this.add({type:fe.default,value:null})},add:e=>i((t=>[...t,Object.assign({id:++o},e)])),remove:e=>i((t=>[...t.slice(0,e),...t.slice(e+1)]))}}(),ge=ue("");var me=Object.freeze({__proto__:null,state:pe,formData:he,prefix:ge});function ve(e,t,n){e.dispatchEvent(new CustomEvent("finalize",{detail:{items:t,info:n}}))}function ye(e,t,n){e.dispatchEvent(new CustomEvent("consider",{detail:{items:t,info:n}}))}const $e="draggedEntered",we="draggedLeft",be="draggedOverIndex",xe="draggedLeftDocument",Ee="leftForAnother",De="outsideOfAny";function ke(e,t,n){e.dispatchEvent(new CustomEvent($e,{detail:{indexObj:t,draggedEl:n}}))}function Le(e,t,n){e.dispatchEvent(new CustomEvent(we,{detail:{draggedEl:t,type:Ee,theOtherDz:n}}))}function Ae(e,t,n){e.dispatchEvent(new CustomEvent(be,{detail:{indexObj:t,draggedEl:n}}))}const Oe="dragStarted",_e=$e,Te="dragEnteredAnother",Ce=be,Se=we,Me="draggedLeftAll",je="droppedIntoZone",Ne="droppedIntoAnother",We="droppedOutsideOfAny",Be="dragStopped",Ie="pointer",Fe="keyboard",Pe="isDndShadowItem",qe="data-is-dnd-shadow-item",Re="id:dnd-shadow-placeholder-0000";let ze="id",He=0;function Ze(){He++}function Ve(){if(0===He)throw new Error("Bug! trying to decrement when there are no dropzones");He--}const Xe="undefined"==typeof window;function Ue(e){let t;const n=e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){let r,l,s,a;if(o.startsWith("matrix3d("))t=o.slice(9,-1).split(/, /),r=+t[0],l=+t[5],s=+t[12],a=+t[13];else{if(!o.startsWith("matrix("))return n;t=o.slice(7,-1).split(/, /),r=+t[0],l=+t[3],s=+t[4],a=+t[5]}const c=i.transformOrigin,d=n.x-s-(1-r)*parseFloat(c),u=n.y-a-(1-l)*parseFloat(c.slice(c.indexOf(" ")+1)),f=r?n.width/r:e.offsetWidth,p=l?n.height/l:e.offsetHeight;return{x:d,y:u,width:f,height:p,top:u,right:d+f,bottom:u+p,left:d}}return n}function Ye(e){const t=Ue(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Ge(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Je(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Ke(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Qe(e){return Je(Ge(e))}function et(e,t){return Ke(Qe(e),Ye(t))}function tt(e,t){const n=Qe(e),i=Qe(t);return o=n,r=i,Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2));var o,r}let nt;function it(){nt=new Map}function ot(e,t){if(!et(e,t))return null;const n=t.children;if(0===n.length)return{index:0,isProximityBased:!0};const i=function(e){const t=Array.from(e.children).findIndex((e=>e.getAttribute(qe)));if(t>=0)return nt.has(e)||nt.set(e,new Map),nt.get(e).set(t,Ye(e.children[t])),t}(t);for(let o=0;o<n.length;o++)if(et(e,n[o])){const n=nt.has(t)&&nt.get(t).get(o);return n&&!Ke(Qe(e),n)?{index:i,isProximityBased:!1}:{index:o,isProximityBased:!1}}let o,r=Number.MAX_VALUE;for(let t=0;t<n.length;t++){const i=tt(e,n[t]);i<r&&(r=i,o=t)}return{index:o,isProximityBased:!0}}it();function rt(){let e;function t(){e={directionObj:void 0,stepPx:0}}function n(t){const{directionObj:i,stepPx:o}=e;i&&(t.scrollBy(i.x*o,i.y*o),window.requestAnimationFrame((()=>n(t))))}function i(e){return 25-e}return t(),{scrollIfNeeded:function(o,r){if(!r)return!1;const l=function(e,t){const n=Ge(t);return Ke(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}(o,r);if(null===l)return t(),!1;const s=!!e.directionObj;let[a,c]=[!1,!1];return r.scrollHeight>r.clientHeight&&(l.bottom<25?(a=!0,e.directionObj={x:0,y:1},e.stepPx=i(l.bottom)):l.top<25&&(a=!0,e.directionObj={x:0,y:-1},e.stepPx=i(l.top)),!s&&a)||r.scrollWidth>r.clientWidth&&(l.right<25?(c=!0,e.directionObj={x:1,y:0},e.stepPx=i(l.right)):l.left<25&&(c=!0,e.directionObj={x:-1,y:0},e.stepPx=i(l.left)),!s&&c)?(n(r),!0):(t(),!1)},resetScrolling:t}}function lt(e){return JSON.stringify(e,null,2)}function st(e){if(!e)throw new Error("cannot get depth of a falsy node");return at(e,0)}function at(e,t=0){return e.parentElement?at(e.parentElement,t+1):t-1}const{scrollIfNeeded:ct,resetScrolling:dt}=rt();let ut;function ft(e,t,n=200){let i,o,r,l=!1;const s=Array.from(t).sort(((e,t)=>st(t)-st(e)));!function t(){const a=Qe(e);if(!ct(a,i)&&r&&Math.abs(r.x-a.x)<10&&Math.abs(r.y-a.y)<10)return void(ut=window.setTimeout(t,n));if(function(e){const t=Ge(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}(e))return void function(e){window.dispatchEvent(new CustomEvent(xe,{detail:{draggedEl:e}}))}(e);r=a;let c=!1;for(const t of s){const n=ot(e,t);if(null===n)continue;const{index:r}=n;c=!0,t!==i?(i&&Le(i,e,t),ke(t,n,e),i=t):r!==o&&(Ae(t,n,e),o=r);break}!c&&l&&i?(!function(e,t){e.dispatchEvent(new CustomEvent(we,{detail:{draggedEl:t,type:De}}))}(i,e),i=void 0,o=void 0,l=!1):l=!0,ut=window.setTimeout(t,n)}()}let pt;function ht(e){const t=e.touches?e.touches[0]:e;pt={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:gt,resetScrolling:mt}=rt();let vt;function yt(){pt&&gt(pt,document.documentElement),vt=window.setTimeout(yt,300)}function $t(e){return`${e} 0.2s ease`}function wt(e,t,n,i,o){const r=t.getBoundingClientRect(),l=e.getBoundingClientRect(),s=r.width-l.width,a=r.height-l.height;if(s||a){const t={left:(n-l.left)/l.width,top:(i-l.top)/l.height};e.style.height=`${r.height}px`,e.style.width=`${r.width}px`,e.style.left=parseFloat(e.style.left)-t.left*s+"px",e.style.top=parseFloat(e.style.top)-t.top*a+"px"}bt(t,e),o()}function bt(e,t){const n=window.getComputedStyle(e);Array.from(n).filter((e=>e.startsWith("background")||e.startsWith("padding")||e.startsWith("font")||e.startsWith("text")||e.startsWith("align")||e.startsWith("justify")||e.startsWith("display")||e.startsWith("flex")||e.startsWith("border")||"opacity"===e||"color"===e||"list-style-type"===e)).forEach((e=>t.style.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))))}function xt(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Et(e,t=(()=>{}),n=(()=>[])){e.forEach((e=>{const i=t(e);Object.keys(i).forEach((t=>{e.style[t]=i[t]})),n(e).forEach((t=>e.classList.add(t)))}))}function Dt(e,t=(()=>{}),n=(()=>[])){e.forEach((e=>{const i=t(e);Object.keys(i).forEach((t=>{e.style[t]=""})),n(e).forEach((t=>e.classList.contains(t)&&e.classList.remove(t)))}))}const kt={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Lt,At,Ot,_t,Tt,Ct,St,Mt,jt,Nt,Wt,Bt=!1,It=!1,Ft=!1;const Pt=new Map,qt=new Map,Rt=new WeakMap;function zt(e,t){Pt.get(t).delete(e),Ve(),0===Pt.get(t).size&&Pt.delete(t)}function Ht(){window.addEventListener("mousemove",ht),window.addEventListener("touchmove",ht),yt();const e=Pt.get(_t);for(const t of e)t.addEventListener($e,Xt),t.addEventListener(we,Ut),t.addEventListener(be,Yt);window.addEventListener(xe,Jt);const t=Math.max(100,...Array.from(e.keys()).map((e=>qt.get(e).dropAnimationDurationMs)));ft(At,e,1.07*t)}function Zt(){window.removeEventListener("mousemove",ht),window.removeEventListener("touchmove",ht),pt=void 0,window.clearTimeout(vt),mt();const e=Pt.get(_t);for(const t of e)t.removeEventListener($e,Xt),t.removeEventListener(we,Ut),t.removeEventListener(be,Yt);window.removeEventListener(xe,Jt),clearTimeout(ut),dt(),it()}function Vt(e){return e.findIndex((e=>!!e.isDndShadowItem&&e.id!==Re))}function Xt(e){let{items:t,dropFromOthersDisabled:n}=qt.get(e.currentTarget);if(n&&e.currentTarget!==Tt)return;if(Ft=!1,t=t.filter((e=>e.id!==St.id)),Tt!==e.currentTarget){const e=qt.get(Tt).items.filter((e=>!e.isDndShadowItem));ye(Tt,e,{trigger:Te,id:Ot.id,source:Ie})}else{const e=function(e){return e.findIndex((e=>e.id===Re))}(t);-1!==e&&t.splice(e,1)}const{index:i,isProximityBased:o}=e.detail.indexObj,r=o&&i===e.currentTarget.children.length-1?i+1:i;Mt=e.currentTarget,t.splice(r,0,St),ye(e.currentTarget,t,{trigger:_e,id:Ot.id,source:Ie})}function Ut(e){if(!Bt)return;const{items:t,dropFromOthersDisabled:n}=qt.get(e.currentTarget);if(n&&e.currentTarget!==Tt)return;const i=Vt(t),o=t.splice(i,1)[0];Mt=void 0;const{type:r,theOtherDz:l}=e.detail;if(r===De||r===Ee&&l!==Tt&&qt.get(l).dropFromOthersDisabled){Ft=!0,Mt=Tt;const e=qt.get(Tt).items;e.splice(Ct,0,o),ye(Tt,e,{trigger:Me,id:Ot.id,source:Ie})}ye(e.currentTarget,t,{trigger:Se,id:Ot.id,source:Ie})}function Yt(e){const{items:t,dropFromOthersDisabled:n}=qt.get(e.currentTarget);if(n&&e.currentTarget!==Tt)return;Ft=!1;const{index:i}=e.detail.indexObj,o=Vt(t);t.splice(o,1),t.splice(i,0,St),ye(e.currentTarget,t,{trigger:Ce,id:Ot.id,source:Ie})}function Gt(e){e.preventDefault();const t=e.touches?e.touches[0]:e;Nt={x:t.clientX,y:t.clientY},At.style.transform=`translate3d(${Nt.x-jt.x}px, ${Nt.y-jt.y}px, 0)`}function Jt(){It=!0,window.removeEventListener("mousemove",Gt),window.removeEventListener("touchmove",Gt),window.removeEventListener("mouseup",Jt),window.removeEventListener("touchend",Jt),Zt(),function(e){e.style.cursor="grab"}(At),Mt||(Mt=Tt);let{items:e,type:t}=qt.get(Mt);Dt(Pt.get(t),(e=>qt.get(e).dropTargetStyle),(e=>qt.get(e).dropTargetClasses));let n=Vt(e);-1===n&&(n=Ct),e=e.map((e=>e.isDndShadowItem?Ot:e)),function(e,t){const n=Ue(Mt.children[e]),i={x:n.left-parseFloat(At.style.left),y:n.top-parseFloat(At.style.top)},{dropAnimationDurationMs:o}=qt.get(Mt),r=`transform ${o}ms ease`;At.style.transition=At.style.transition?At.style.transition+","+r:r,At.style.transform=`translate3d(${i.x}px, ${i.y}px, 0)`,window.setTimeout(t,o)}(n,(function(){var t;Wt(),ve(Mt,e,{trigger:Ft?We:je,id:Ot.id,source:Ie}),Mt!==Tt&&ve(Tt,qt.get(Tt).items,{trigger:Ne,id:Ot.id,source:Ie}),(t=Mt.children[n]).style.visibility="",t.removeAttribute(qe),At.remove(),Lt.remove(),At=void 0,Lt=void 0,Ot=void 0,_t=void 0,Tt=void 0,Ct=void 0,St=void 0,Mt=void 0,jt=void 0,Nt=void 0,Bt=!1,It=!1,Wt=void 0,Ft=!1}))}function Kt(e,t){const n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:kt,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function o(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r)}function r(){o(),Lt=void 0,jt=void 0,Nt=void 0}function l(e){e.preventDefault();const t=e.touches?e.touches[0]:e;Nt={x:t.clientX,y:t.clientY},(Math.abs(Nt.x-jt.x)>=3||Math.abs(Nt.y-jt.y)>=3)&&(o(),function(){Bt=!0;const e=i.get(Lt);Ct=e,Tt=Lt.parentElement;const{items:t,type:o,centreDraggedOnCursor:r}=n;Ot={...t[e]},_t=o,St={...Ot,[Pe]:!0};const l={...St,[ze]:Re};function s(){var e;At.parentElement?window.requestAnimationFrame(s):(document.body.appendChild(At),At.focus(),Ht(),(e=Lt).style.display="none",e.style.position="fixed",e.style.zIndex="-5",document.body.appendChild(Lt))}At=function(e,t){const n=e.getBoundingClientRect(),i=e.cloneNode(!0);bt(e,i),i.id="dnd-action-dragged-el",i.style.position="fixed";let o=n.top,r=n.left;if(i.style.top=`${o}px`,i.style.left=`${r}px`,t){const e=Je(n);o-=e.y-t.y,r-=e.x-t.x,window.setTimeout((()=>{i.style.top=`${o}px`,i.style.left=`${r}px`}),0)}return i.style.margin="0",i.style.boxSizing="border-box",i.style.height=`${n.height}px`,i.style.width=`${n.width}px`,i.style.transition=`${$t("top")}, ${$t("left")}, ${$t("background-color")}, ${$t("opacity")}, ${$t("color")} `,window.setTimeout((()=>i.style.transition+=`, ${$t("width")}, ${$t("height")}`),0),i.style.zIndex="9999",i.style.cursor="grabbing",i}(Lt,r&&Nt),window.requestAnimationFrame(s),Et(Array.from(Pt.get(n.type)).filter((e=>e===Tt||!qt.get(e).dropFromOthersDisabled)),(e=>qt.get(e).dropTargetStyle),(e=>qt.get(e).dropTargetClasses)),t.splice(e,1,l),Wt=function(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}(Tt),ye(Tt,t,{trigger:Oe,id:Ot.id,source:Ie}),window.addEventListener("mousemove",Gt,{passive:!1}),window.addEventListener("touchmove",Gt,{passive:!1,capture:!1}),window.addEventListener("mouseup",Jt,{passive:!1}),window.addEventListener("touchend",Jt,{passive:!1})}())}function s(e){if(e.target!==e.currentTarget&&(void 0!==e.target.value||e.target.isContentEditable))return;if(e.button)return;if(Bt)return;e.stopPropagation();const t=e.touches?e.touches[0]:e;jt={x:t.clientX,y:t.clientY},Nt={...jt},Lt=e.currentTarget,window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",r,{passive:!1}),window.addEventListener("touchend",r,{passive:!1})}function a({items:t,flipDurationMs:o=0,type:r="--any--",dragDisabled:l=!1,morphDisabled:a=!1,dropFromOthersDisabled:c=!1,dropTargetStyle:d=kt,dropTargetClasses:u=[],transformDraggedElement:f=(()=>{}),centreDraggedOnCursor:p=!1}){var h,g;function m(e,t){return qt.get(e)?qt.get(e)[t]:n[t]}n.dropAnimationDurationMs=o,n.type&&r!==n.type&&zt(e,n.type),n.type=r,h=e,g=r,Pt.has(g)||Pt.set(g,new Set),Pt.get(g).has(h)||(Pt.get(g).add(h),Ze()),n.items=[...t],n.dragDisabled=l,n.morphDisabled=a,n.transformDraggedElement=f,n.centreDraggedOnCursor=p,!Bt||It||function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}(d,n.dropTargetStyle)&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(u,n.dropTargetClasses)||(Dt([e],(()=>n.dropTargetStyle),(()=>u)),Et([e],(()=>d),(()=>u))),n.dropTargetStyle=d,n.dropTargetClasses=[...u],Bt&&n.dropFromOthersDisabled!==c&&(c?Dt([e],(e=>m(e,"dropTargetStyle")),(e=>m(e,"dropTargetClasses"))):Et([e],(e=>m(e,"dropTargetStyle")),(e=>m(e,"dropTargetClasses")))),n.dropFromOthersDisabled=c,qt.set(e,n);const v=Vt(n.items);for(let t=0;t<e.children.length;t++){const o=e.children[t];xt(o,l),t!==v?(o.removeEventListener("mousedown",Rt.get(o)),o.removeEventListener("touchstart",Rt.get(o)),l||(o.addEventListener("mousedown",s),o.addEventListener("touchstart",s),Rt.set(o,s)),i.set(o,t)):(a||wt(At,o,Nt.x,Nt.y,(()=>n.transformDraggedElement(At,Ot,t))),(y=o).style.visibility="hidden",y.setAttribute(qe,"true"))}var y}return a(t),{update:e=>{a(e)},destroy:()=>{zt(e,n.type),qt.delete(e)}}}const Qt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},en={[Qt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Qt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"};let tn;function nn(){tn=document.createElement("div"),tn.id="dnd-action-aria-alert",tn.style.position="fixed",tn.style.bottom="0",tn.style.left="0",tn.style.zIndex="-5",tn.style.opacity="0",tn.style.height="0",tn.style.width="0",tn.setAttribute("role","alert"),document.body.prepend(tn),Object.entries(en).forEach((([e,t])=>document.body.prepend(function(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(e,t))))}function on(e){tn.innerHTML="";const t=document.createTextNode(e);tn.appendChild(t),tn.style.display="none",tn.style.display="inline"}const rn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let ln,sn,an,cn,dn=!1,un="",fn="";const pn=new WeakSet,hn=new WeakMap,gn=new WeakMap,mn=new Map,vn=new Map,yn=new Map,$n=Xe?null:("complete"===document.readyState?nn():window.addEventListener("DOMContentLoaded",nn),{...Qt});function wn(e,t){sn===e&&kn(),yn.get(t).delete(e),Ve(),0===yn.get(t).size&&yn.delete(t),0===yn.size&&(window.removeEventListener("keydown",bn),window.removeEventListener("click",xn))}function bn(e){if(dn)switch(e.key){case"Escape":kn()}}function xn(){dn&&(pn.has(document.activeElement)||kn())}function En(e){if(!dn)return;const t=e.currentTarget;if(t===sn)return;un=t.getAttribute("aria-label")||"";const{items:n}=vn.get(sn),i=n.find((e=>e.id===cn)),o=n.indexOf(i),r=n.splice(o,1)[0],{items:l,autoAriaDisabled:s}=vn.get(t);t.getBoundingClientRect().top<sn.getBoundingClientRect().top||t.getBoundingClientRect().left<sn.getBoundingClientRect().left?(l.push(r),s||on(`Moved item ${fn} to the end of the list ${un}`)):(l.unshift(r),s||on(`Moved item ${fn} to the beginning of the list ${un}`));ve(sn,n,{trigger:Ne,id:cn,source:Fe}),ve(t,l,{trigger:je,id:cn,source:Fe}),sn=t}function Dn(){mn.forEach((({update:e},t)=>e(vn.get(t))))}function kn(e=!0){vn.get(sn).autoAriaDisabled||on(`Stopped dragging item ${fn}`),pn.has(document.activeElement)&&document.activeElement.blur(),e&&ye(sn,vn.get(sn).items,{trigger:Be,id:cn,source:Fe}),Dt(yn.get(ln),(e=>vn.get(e).dropTargetStyle),(e=>vn.get(e).dropTargetClasses)),an=null,cn=null,fn="",ln=null,sn=null,un="",dn=!1,Dn()}function Ln(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:rn,dropTargetClasses:[],autoAriaDisabled:!1};function i(e,t,n){e.length<=1||e.splice(n,1,e.splice(t,1,e[n])[0])}function o(t){switch(t.key){case"Enter":case" ":if((void 0!==t.target.disabled||t.target.href||t.target.isContentEditable)&&!pn.has(t.target))return;t.preventDefault(),t.stopPropagation(),dn?kn():r(t);break;case"ArrowDown":case"ArrowRight":{if(!dn)return;t.preventDefault(),t.stopPropagation();const{items:o}=vn.get(e),r=Array.from(e.children),l=r.indexOf(t.currentTarget);l<r.length-1&&(n.autoAriaDisabled||on(`Moved item ${fn} to position ${l+2} in the list ${un}`),i(o,l,l+1),ve(e,o,{trigger:je,id:cn,source:Fe}));break}case"ArrowUp":case"ArrowLeft":{if(!dn)return;t.preventDefault(),t.stopPropagation();const{items:o}=vn.get(e),r=Array.from(e.children).indexOf(t.currentTarget);r>0&&(n.autoAriaDisabled||on(`Moved item ${fn} to position ${r} in the list ${un}`),i(o,r,r-1),ve(e,o,{trigger:je,id:cn,source:Fe}));break}}}function r(t){!function(t){const{items:n}=vn.get(e),i=Array.from(e.children),o=i.indexOf(t);an=t,an.tabIndex=0,cn=n[o].id,fn=i[o].getAttribute("aria-label")||""}(t.currentTarget),sn=e,ln=n.type,dn=!0;const i=Array.from(yn.get(n.type)).filter((e=>e===sn||!vn.get(e).dropFromOthersDisabled));if(Et(i,(e=>vn.get(e).dropTargetStyle),(e=>vn.get(e).dropTargetClasses)),!n.autoAriaDisabled){let e=`Started dragging item ${fn}. Use the arrow keys to move it within its list ${un}`;i.length>1&&(e+=", or tab to another list in order to move the item into it"),on(e)}ye(e,vn.get(e).items,{trigger:Oe,id:cn,source:Fe}),Dn()}function l(e){dn&&e.currentTarget!==an&&(e.stopPropagation(),kn(!1),r(e))}function s({items:t=[],type:i="--any--",dragDisabled:r=!1,dropFromOthersDisabled:s=!1,dropTargetStyle:a=rn,dropTargetClasses:c=[],autoAriaDisabled:d=!1}){var u,f;n.items=[...t],n.dragDisabled=r,n.dropFromOthersDisabled=s,n.dropTargetStyle=a,n.dropTargetClasses=c,n.autoAriaDisabled=d,d||(e.setAttribute("aria-disabled",r),e.setAttribute("role","list"),e.setAttribute("aria-describedby",r?$n.DND_ZONE_DRAG_DISABLED:$n.DND_ZONE_ACTIVE)),n.type&&i!==n.type&&wn(e,n.type),n.type=i,u=e,f=i,0===yn.size&&(window.addEventListener("keydown",bn),window.addEventListener("click",xn)),yn.has(f)||yn.set(f,new Set),yn.get(f).has(u)||(yn.get(f).add(u),Ze()),vn.set(e,n),e.tabIndex=dn&&(e===sn||an.contains(e)||n.dropFromOthersDisabled||sn&&n.type!==vn.get(sn).type)?-1:0,e.addEventListener("focus",En);for(let t=0;t<e.children.length;t++){const i=e.children[t];pn.add(i),i.tabIndex=dn?-1:0,d||i.setAttribute("role","listitem"),i.removeEventListener("keydown",hn.get(i)),i.removeEventListener("click",gn.get(i)),r||(i.addEventListener("keydown",o),hn.set(i,o),i.addEventListener("click",l),gn.set(i,l)),dn&&n.items[t].id===cn&&(an=i,an.tabIndex=0,i.focus())}}s(t);const a={update:e=>{s(e)},destroy:()=>{wn(e,n.type),vn.delete(e),mn.delete(e)}};return mn.set(e,a),a}function An(e,t){On(t);const n=Kt(e,t),i=Ln(e,t);return{update:e=>{On(e),n.update(e),i.update(e)},destroy:()=>{n.destroy(),i.destroy()}}}function On(e){const{items:t,flipDurationMs:n,type:i,dragDisabled:o,morphDisabled:r,dropFromOthersDisabled:l,dropTargetStyle:s,dropTargetClasses:a,transformDraggedElement:c,autoAriaDisabled:d,centreDraggedOnCursor:u,...f}=e;if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!t)throw new Error("no 'items' key provided to dndzone");const p=t.find((e=>!{}.hasOwnProperty.call(e,ze)));if(p)throw new Error(`missing 'id' property for item ${lt(p)}`);if(a&&!Array.isArray(a))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof a}, ${lt(a)}`)}function _n(e){const t=e-1;return t*t*t+1}function Tn(e,t,n={}){const i=getComputedStyle(e),o="none"===i.transform?"":i.transform,l=t.from.width/e.clientWidth,s=t.from.height/e.clientHeight,a=(t.from.left-t.to.left)/l,c=(t.from.top-t.to.top)/s,d=Math.sqrt(a*a+c*c),{delay:u=0,duration:f=(e=>120*Math.sqrt(e)),easing:p=_n}=n;return{delay:u,duration:r(f)?f(d):f,easing:p,css:(e,t)=>`transform: ${o} translate(${t*a}px, ${t*c}px);`}}function Cn(t){let n,i,o;return{c(){n=y("svg"),i=y("line"),o=y("line"),E(i,"x1","18"),E(i,"y1","6"),E(i,"x2","6"),E(i,"y2","18"),E(o,"x1","6"),E(o,"y1","6"),E(o,"x2","18"),E(o,"y2","18"),E(n,"width","14"),E(n,"height","14"),E(n,"viewBox","0 0 21 21"),E(n,"fill","none"),E(n,"stroke",t[0]),E(n,"stroke-width","2"),E(n,"stroke-linecap","round"),E(n,"stroke-linejoin","round"),E(n,"class","feather feather-x")},m(e,t){g(e,n,t),h(n,i),h(n,o)},p(e,[t]){1&t&&E(n,"stroke",e[0])},i:e,o:e,d(e){e&&m(n)}}}function Sn(e,t,n){let{stroke:i="#0D121F"}=t;return e.$$set=e=>{"stroke"in e&&n(0,i=e.stroke)},[i]}class Mn extends ce{constructor(e){super(),ae(this,e,Sn,Cn,l,{stroke:0})}}function jn(t){let n,i,o,r,l,s,a,c,d,u,f,p,y;return{c(){n=v("div"),i=v("input"),r=w(),l=v("span"),s=$(t[2]),a=w(),c=v("span"),c.innerHTML='<span class="switch-handle svelte-1eu83y3"></span>',d=w(),u=v("span"),f=$(t[3]),E(i,"name",t[1]),E(i,"type","hidden"),i.value=o=t[0]||"",E(l,"class","switch-label"),E(c,"class","switch-wrapper svelte-1eu83y3"),E(u,"class","switch-label"),E(n,"class","switch-input svelte-1eu83y3"),L(n,"active",t[0])},m(e,o){g(e,n,o),h(n,i),h(n,r),h(n,l),h(l,s),h(n,a),h(n,c),h(n,d),h(n,u),h(u,f),p||(y=x(n,"click",t[4]),p=!0)},p(e,[t]){2&t&&E(i,"name",e[1]),1&t&&o!==(o=e[0]||"")&&(i.value=o),4&t&&D(s,e[2]),8&t&&D(f,e[3]),1&t&&L(n,"active",e[0])},i:e,o:e,d(e){e&&m(n),p=!1,y()}}}function Nn(e,t,n){let{name:i}=t,{value:o}=t,{leftLabel:r}=t,{rightLabel:l}=t;return e.$$set=e=>{"name"in e&&n(1,i=e.name),"value"in e&&n(0,o=e.value),"leftLabel"in e&&n(2,r=e.leftLabel),"rightLabel"in e&&n(3,l=e.rightLabel)},[o,i,r,l,()=>n(0,o=!o)]}class Wn extends ce{constructor(e){super(),ae(this,e,Nn,jn,l,{name:1,value:0,leftLabel:2,rightLabel:3})}}function Bn(e){let t,n,i;function o(t){e[2](t)}let r={name:e[1]+"negation",leftLabel:"IS",rightLabel:"NOT"};return void 0!==e[0]&&(r.value=e[0]),t=new Wn({props:r}),B.push((()=>oe(t,"value",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,[i]){const o={};2&i&&(o.name=e[1]+"negation"),!n&&1&i&&(n=!0,o.value=e[0],H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function In(e,t,n){let i;s(e,ge,(e=>n(1,i=e)));let{value:o=!1}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,i,function(e){o=e,n(0,o)}]}class Fn extends ce{constructor(e){super(),ae(this,e,In,Bn,l,{value:0})}}var Pn;function qn(t){let n,i;return{c(){n=y("svg"),i=y("path"),E(i,"d","M1 1L5.5 5.5L10 1"),E(i,"stroke",t[0]),E(i,"stroke-width","2"),E(n,"width","11"),E(n,"height","7"),E(n,"viewBox","0 0 11 7"),E(n,"fill","none"),E(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){g(e,n,t),h(n,i)},p(e,[t]){1&t&&E(i,"stroke",e[0])},i:e,o:e,d(e){e&&m(n)}}}function Rn(e,t,n){let{stroke:i="#0D121F"}=t;return e.$$set=e=>{"stroke"in e&&n(0,i=e.stroke)},[i]}!function(e){e.AND="AND",e.OR="OR"}(Pn||(Pn={}));class zn extends ce{constructor(e){super(),ae(this,e,Rn,qn,l,{stroke:0})}}function Hn(e,t,n){const i=e.slice();return i[0]=t[n].value,i[12]=t[n].label,i}function Zn(e){let t,n=[],i=new Map,o=e[1];const r=e=>e[0];for(let t=0;t<o.length;t+=1){let l=Hn(e,o,t),s=r(l);i.set(s,n[t]=Vn(s,l))}return{c(){t=v("ul");for(let e=0;e<n.length;e+=1)n[e].c();E(t,"class","options svelte-u80ij0"),E(t,"data-simplebar","")},m(e,i){g(e,t,i);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,l){258&l&&(o=e[1],n=ie(n,l,r,1,e,o,i,t,te,Vn,null,Hn))},d(e){e&&m(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Vn(e,t){let n,i,o,l,s=t[12]+"";return{key:e,first:null,c(){n=v("li"),i=$(s),E(n,"class","option svelte-u80ij0"),this.first=n},m(e,s){g(e,n,s),h(n,i),o||(l=x(n,"click",(function(){r(t[8](t[0]))&&t[8](t[0]).apply(this,arguments)})),o=!0)},p(e,n){t=e,2&n&&s!==(s=t[12]+"")&&D(i,s)},d(e){e&&m(n),o=!1,l()}}}function Xn(e){let t,n,i,r,l,s,a,c,d,u,f,p,y,b=(e[7]?e[7].label:e[4])+"";d=new zn({});let k=e[6]&&Zn(e);return{c(){t=v("div"),n=v("input"),i=w(),r=v("div"),l=v("span"),s=$(b),a=w(),c=v("i"),re(d.$$.fragment),u=w(),k&&k.c(),E(n,"type","hidden"),E(n,"name",e[2]),n.value=e[0],E(l,"class","value-label svelte-u80ij0"),L(l,"placeholder",!e[7]),E(c,"class","caret-icon svelte-u80ij0"),E(r,"class","selected-value svelte-u80ij0"),E(t,"class","pseudo-select svelte-u80ij0"),L(t,"full-width",e[5]),L(t,"disabled",e[3])},m(o,m){g(o,t,m),h(t,n),h(t,i),h(t,r),h(r,l),h(l,s),h(r,a),h(r,c),le(d,c,null),h(t,u),k&&k.m(t,null),f=!0,p||(y=[x(t,"click",e[9]),x(t,"mouseleave",e[10])],p=!0)},p(e,[i]){(!f||4&i)&&E(n,"name",e[2]),(!f||1&i)&&(n.value=e[0]),(!f||144&i)&&b!==(b=(e[7]?e[7].label:e[4])+"")&&D(s,b),128&i&&L(l,"placeholder",!e[7]),e[6]?k?k.p(e,i):(k=Zn(e),k.c(),k.m(t,null)):k&&(k.d(1),k=null),32&i&&L(t,"full-width",e[5]),8&i&&L(t,"disabled",e[3])},i(e){f||(Q(d.$$.fragment,e),f=!0)},o(e){ee(d.$$.fragment,e),f=!1},d(e){e&&m(t),se(d),k&&k.d(),p=!1,o(y)}}}function Un(e,t,n){let i;const o=N();let{options:r}=t,{name:l}=t,{disabled:s=!1}=t,{placeholder:a=""}=t,{value:c=null}=t,{fullWidth:d=!1}=t,u=!1;return e.$$set=e=>{"options"in e&&n(1,r=e.options),"name"in e&&n(2,l=e.name),"disabled"in e&&n(3,s=e.disabled),"placeholder"in e&&n(4,a=e.placeholder),"value"in e&&n(0,c=e.value),"fullWidth"in e&&n(5,d=e.fullWidth)},e.$$.update=()=>{3&e.$$.dirty&&n(7,i=r.find((({value:e})=>e===c)))},[c,r,l,s,a,d,u,i,e=>()=>{n(0,c=e),o("change",{value:c})},()=>n(6,u=!u),()=>n(6,u=!1)]}class Yn extends ce{constructor(e){super(),ae(this,e,Un,Xn,l,{options:1,name:2,disabled:3,placeholder:4,value:0,fullWidth:5})}}function Gn(e){let t,n,i,o;function r(t){e[4](t)}let l={options:e[3],disabled:e[1],fullWidth:!0,name:e[2]+"junction"};return void 0!==e[0]&&(l.value=e[0]),n=new Yn({props:l}),B.push((()=>oe(n,"value",r))),{c(){t=v("div"),re(n.$$.fragment),E(t,"class","junction-input svelte-19km4y0")},m(e,i){g(e,t,i),le(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.disabled=e[1]),4&t&&(o.name=e[2]+"junction"),!i&&1&t&&(i=!0,o.value=e[0],H((()=>i=!1))),n.$set(o)},i(e){o||(Q(n.$$.fragment,e),o=!0)},o(e){ee(n.$$.fragment,e),o=!1},d(e){e&&m(t),se(n)}}}function Jn(e,t,n){let i;s(e,ge,(e=>n(2,i=e)));let{disabled:o}=t,{value:r=Pn.AND}=t,l=[...Object.values(Pn)].map((e=>({value:e,label:e})));return e.$$set=e=>{"disabled"in e&&n(1,o=e.disabled),"value"in e&&n(0,r=e.value)},[r,o,i,l,function(e){r=e,n(0,r)}]}class Kn extends ce{constructor(e){super(),ae(this,e,Jn,Gn,l,{disabled:1,value:0})}}function Qn(e){let t,n,i,o;function r(t){e[3](t)}let l={options:e[2],name:e[1]+"type",fullWidth:!0};return void 0!==e[0]&&(l.value=e[0]),n=new Yn({props:l}),B.push((()=>oe(n,"value",r))),n.$on("change",e[4]),{c(){t=v("div"),re(n.$$.fragment),E(t,"class","type-input svelte-18f44pc")},m(e,i){g(e,t,i),le(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.name=e[1]+"type"),!i&&1&t&&(i=!0,o.value=e[0],H((()=>i=!1))),n.$set(o)},i(e){o||(Q(n.$$.fragment,e),o=!0)},o(e){ee(n.$$.fragment,e),o=!1},d(e){e&&m(t),se(n)}}}function ei(e,t,n){let i;s(e,ge,(e=>n(1,i=e)));let{value:o}=t,r=[...Object.entries(fe.definitions)].filter((([,{hidden:e}])=>!e)).map((([e,{label:t}])=>({value:e,label:t})));return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,i,r,function(e){o=e,n(0,o)},function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)}]}class ti extends ce{constructor(e){super(),ae(this,e,ei,Qn,l,{value:0})}}function ni(t){let n,i,o,r;return{c(){n=v("input"),E(n,"name",i=t[2]+"value"),E(n,"type","text"),E(n,"placeholder",t[1]),E(n,"class","svelte-16dbqpn")},m(e,i){g(e,n,i),k(n,t[0].value),o||(r=x(n,"input",t[3]),o=!0)},p(e,[t]){4&t&&i!==(i=e[2]+"value")&&E(n,"name",i),2&t&&E(n,"placeholder",e[1]),1&t&&n.value!==e[0].value&&k(n,e[0].value)},i:e,o:e,d(e){e&&m(n),o=!1,r()}}}function ii(e,t,n){let i;s(e,ge,(e=>n(2,i=e)));let{placeholder:o=""}=t,{field:r}=t;return e.$$set=e=>{"placeholder"in e&&n(1,o=e.placeholder),"field"in e&&n(0,r=e.field)},[r,o,i,function(){r.value=this.value,n(0,r)}]}class oi extends ce{constructor(e){super(),ae(this,e,ii,ni,l,{placeholder:1,field:0})}}function ri(e,t,n){const i=e.slice();return i[27]=t[n],i}function li(t){let n,i,o,r,l;return i=new Mn({}),{c(){n=v("i"),re(i.$$.fragment),E(n,"class","cross-icon svelte-xyi11b")},m(e,s){var a;g(e,n,s),le(i,n,null),o=!0,r||(l=x(n,"click",(a=t[14],function(e){return e.stopPropagation(),a.call(this,e)})),r=!0)},p:e,i(e){o||(Q(i.$$.fragment,e),o=!0)},o(e){ee(i.$$.fragment,e),o=!1},d(e){e&&m(n),se(i),r=!1,l()}}}function si(e){let t,n,i,o,r,l,s,a=e[13](e[27].label,e[7])+"";function c(){return e[18](e[27])}return{c(){t=v("li"),i=w(),n=new A(i),E(t,"class","select2-options--option svelte-xyi11b"),E(t,"data-value",o=e[27].value),E(t,"data-label",r=e[27].label),E(t,"role","option"),L(t,"selected",e[0]===e[27].value)},m(e,o){g(e,t,o),n.m(a,t),h(t,i),l||(s=x(t,"click",c),l=!0)},p(i,l){e=i,136&l&&a!==(a=e[13](e[27].label,e[7])+"")&&n.p(a),8&l&&o!==(o=e[27].value)&&E(t,"data-value",o),8&l&&r!==(r=e[27].label)&&E(t,"data-label",r),9&l&&L(t,"selected",e[0]===e[27].value)},d(e){e&&m(t),l=!1,s()}}}function ai(e,t){let n,i,o=di(t[27].label,t[7]),r=o&&si(t);return{key:e,first:null,c(){n=b(),r&&r.c(),i=b(),this.first=n},m(e,t){g(e,n,t),r&&r.m(e,t),g(e,i,t)},p(e,n){t=e,136&n&&(o=di(t[27].label,t[7])),o?r?r.p(t,n):(r=si(t),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(e){e&&m(n),r&&r.d(e),e&&m(i)}}}function ci(e){let t,n,i,r,l,s,a,c,d,u,f,p,y,$,b,D=[],A=new Map,O=e[7]&&li(e);u=new zn({});let _=e[3];const T=e=>e[27].value;for(let t=0;t<_.length;t+=1){let n=ri(e,_,t),i=T(n);A.set(i,D[t]=ai(i,n))}return{c(){t=v("div"),n=v("input"),i=w(),r=v("div"),l=v("span"),s=v("input"),a=w(),O&&O.c(),c=w(),d=v("i"),re(u.$$.fragment),f=w(),p=v("ul");for(let e=0;e<D.length;e+=1)D[e].c();E(n,"type","hidden"),E(n,"name",e[1]),n.value=e[0],E(s,"placeholder",e[2]),E(s,"autocomplete","off"),E(s,"class","svelte-xyi11b"),E(l,"class","select2_selected--label svelte-xyi11b"),E(d,"class","caret-icon svelte-xyi11b"),E(r,"class","select2_selected svelte-xyi11b"),E(p,"class","select2_options svelte-xyi11b"),E(p,"data-simplebar",""),L(p,"show",e[4]),E(t,"class","select2 svelte-xyi11b"),L(t,"active",e[4])},m(o,m){g(o,t,m),h(t,n),h(t,i),h(t,r),h(r,l),h(l,s),e[16](s),k(s,e[7]),h(r,a),O&&O.m(r,null),h(r,c),h(r,d),le(u,d,null),h(t,f),h(t,p);for(let e=0;e<D.length;e+=1)D[e].m(p,null);e[19](p),y=!0,$||(b=[x(s,"input",e[17]),x(s,"keydown",e[11]),x(s,"input",e[10]),x(r,"click",e[8]),x(p,"mouseleave",e[9])],$=!0)},p(e,[i]){(!y||2&i)&&E(n,"name",e[1]),(!y||1&i)&&(n.value=e[0]),(!y||4&i)&&E(s,"placeholder",e[2]),128&i&&s.value!==e[7]&&k(s,e[7]),e[7]?O?(O.p(e,i),128&i&&Q(O,1)):(O=li(e),O.c(),Q(O,1),O.m(r,c)):O&&(J(),ee(O,1,1,(()=>{O=null})),K()),12425&i&&(_=e[3],D=ie(D,i,T,1,e,_,A,p,te,ai,null,ri)),16&i&&L(p,"show",e[4]),16&i&&L(t,"active",e[4])},i(e){y||(Q(O),Q(u.$$.fragment,e),y=!0)},o(e){ee(O),ee(u.$$.fragment,e),y=!1},d(n){n&&m(t),e[16](null),O&&O.d(),se(u);for(let e=0;e<D.length;e+=1)D[e].d();e[19](null),$=!1,o(b)}}}function di(e,t){return e.toLowerCase().includes(t.toLowerCase())}function ui(e,t){for(let n=0;n<e.length;n++)if(e[n].classList.contains(t))return!0;return!1}function fi(e,t,n){let i,o;var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function l(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(l,s)}a((i=i.apply(e,t||[])).next())}))};const l=N();let s,a,{name:c}=t,{value:d=null}=t,{placeholder:u=""}=t,{options:f}=t,p=!1;function h(){n(4,p=!1),document.activeElement.blur()}function g(){n(4,p=!0)}function m(e,t){return r(this,void 0,void 0,(function*(){n(0,d=t),n(7,o=e),yield(R(),P),n(6,a.value=i?i.label:"",a),l("change",{value:d}),h()}))}function v(){if(s&&(null===(e=s.querySelector("li.selected"))||void 0===e||!e)){let e=s.querySelector("li:first-child");e&&e.classList.add("selected")}var e}function y(){let e=s.querySelectorAll("li.selected");for(let t=0;t<e.length;t++)e[t].classList.remove("selected")}return e.$$set=e=>{"name"in e&&n(1,c=e.name),"value"in e&&n(0,d=e.value),"placeholder"in e&&n(2,u=e.placeholder),"options"in e&&n(3,f=e.options)},e.$$.update=()=>{9&e.$$.dirty&&n(15,i=f.find((({value:e})=>e===d))),32768&e.$$.dirty&&n(7,o=i?i.label:"")},[d,c,u,f,p,s,a,o,function(){n(4,p=!p),p&&a.focus(),v()},h,function(e){g(),y(),v()},function(e){if(!["ArrowDown","ArrowUp","Enter","Backspace","Escape"].includes(e.key)||!s)return;"Backspace"!==e.key&&e.preventDefault();let t=s.querySelector("li.selected");switch(e.key){case"Enter":if(!t)return;let e=t.getAttribute("data-value");m(t.getAttribute("data-label"),e);break;case"ArrowDown":if(g(),ui(s.querySelectorAll("li"),"selected")){let e=t.nextElementSibling;e&&(y(),e.classList.add("selected"),e.scrollIntoView())}else v();break;case"ArrowUp":if(g(),ui(s.querySelectorAll("li"),"selected")){let e=t.previousElementSibling;e&&(y(),e.classList.add("selected"),e.scrollIntoView())}else v();break;case"Backspace":n(0,d="");break;case"Escape":h()}},m,function(e,t){if(!t||t.length<=1)return e;const n=new RegExp(t,"gi");return e.replace(n,'<mark class="highlight">$&</mark>')},function(){n(0,d=""),n(7,o=""),h()},i,function(e){B[e?"unshift":"push"]((()=>{a=e,n(6,a)}))},function(){o=this.value,n(7,o),n(15,i),n(3,f),n(0,d)},e=>{m(e.label,e.value)},function(e){B[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class pi extends ce{constructor(e){super(),ae(this,e,fi,ci,l,{name:1,value:0,placeholder:2,options:3})}}function hi(e){let t,n,i;function o(t){e[6](t)}let r={options:e[2],name:e[4]+"value",placeholder:e[1]};return void 0!==e[0].value&&(r.value=e[0].value),t=new Yn({props:r}),B.push((()=>oe(t,"value",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,i){const o={};4&i&&(o.options=e[2]),16&i&&(o.name=e[4]+"value"),2&i&&(o.placeholder=e[1]),!n&&1&i&&(n=!0,o.value=e[0].value,H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function gi(e){let t,n,i;function o(t){e[5](t)}let r={options:e[2],name:e[4]+"value",placeholder:e[1]};return void 0!==e[0].value&&(r.value=e[0].value),t=new pi({props:r}),B.push((()=>oe(t,"value",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,i){const o={};4&i&&(o.options=e[2]),16&i&&(o.name=e[4]+"value"),2&i&&(o.placeholder=e[1]),!n&&1&i&&(n=!0,o.value=e[0].value,H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function mi(e){let t,n,i,o;const r=[gi,hi],l=[];function s(e,t){return e[3]?0:1}return t=s(e),n=l[t]=r[t](e),{c(){n.c(),i=b()},m(e,n){l[t].m(e,n),g(e,i,n),o=!0},p(e,[o]){let a=t;t=s(e),t===a?l[t].p(e,o):(J(),ee(l[a],1,1,(()=>{l[a]=null})),K(),n=l[t],n?n.p(e,o):(n=l[t]=r[t](e),n.c()),Q(n,1),n.m(i.parentNode,i))},i(e){o||(Q(n),o=!0)},o(e){ee(n),o=!1},d(e){l[t].d(e),e&&m(i)}}}function vi(e,t,n){let i;s(e,ge,(e=>n(4,i=e)));let{placeholder:o=""}=t,{options:r}=t,{field:l}=t,{autocomplete:a=!1}=t;return e.$$set=e=>{"placeholder"in e&&n(1,o=e.placeholder),"options"in e&&n(2,r=e.options),"field"in e&&n(0,l=e.field),"autocomplete"in e&&n(3,a=e.autocomplete)},[l,o,r,a,i,function(t){e.$$.not_equal(l.value,t)&&(l.value=t,n(0,l))},function(t){e.$$.not_equal(l.value,t)&&(l.value=t,n(0,l))}]}class yi extends ce{constructor(e){super(),ae(this,e,vi,mi,l,{placeholder:1,options:2,field:0,autocomplete:3})}}function $i(t){let n,i,o,r,l,s,a,c,d;return{c(){n=y("svg"),i=y("circle"),o=y("circle"),r=y("circle"),l=y("circle"),s=y("circle"),a=y("circle"),c=y("circle"),d=y("circle"),E(i,"cx","1.5"),E(i,"cy","1.5"),E(i,"r","1.5"),E(i,"fill",t[0]),E(o,"cx","1.5"),E(o,"cy","11.5"),E(o,"r","1.5"),E(o,"fill",t[0]),E(r,"cx","1.5"),E(r,"cy","6.5"),E(r,"r","1.5"),E(r,"fill",t[0]),E(l,"cx","1.5"),E(l,"cy","16.5"),E(l,"r","1.5"),E(l,"fill",t[0]),E(s,"cx","6.5"),E(s,"cy","1.5"),E(s,"r","1.5"),E(s,"fill",t[0]),E(a,"cx","6.5"),E(a,"cy","11.5"),E(a,"r","1.5"),E(a,"fill",t[0]),E(c,"cx","6.5"),E(c,"cy","6.5"),E(c,"r","1.5"),E(c,"fill",t[0]),E(d,"cx","6.5"),E(d,"cy","16.5"),E(d,"r","1.5"),E(d,"fill",t[0]),E(n,"width","8"),E(n,"height","18"),E(n,"viewBox","0 0 8 18"),E(n,"fill","none"),E(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){g(e,n,t),h(n,i),h(n,o),h(n,r),h(n,l),h(n,s),h(n,a),h(n,c),h(n,d)},p(e,[t]){1&t&&E(i,"fill",e[0]),1&t&&E(o,"fill",e[0]),1&t&&E(r,"fill",e[0]),1&t&&E(l,"fill",e[0]),1&t&&E(s,"fill",e[0]),1&t&&E(a,"fill",e[0]),1&t&&E(c,"fill",e[0]),1&t&&E(d,"fill",e[0])},i:e,o:e,d(e){e&&m(n)}}}function wi(e,t,n){let{stroke:i="#C4C4C4"}=t;return e.$$set=e=>{"stroke"in e&&n(0,i=e.stroke)},[i]}class bi extends ce{constructor(e){super(),ae(this,e,wi,$i,l,{stroke:0})}}function xi(t){let n,i,o,r,l,s,a;return{c(){n=y("svg"),i=y("rect"),o=y("path"),r=y("path"),l=y("rect"),s=y("path"),a=y("path"),E(i,"x","7"),E(i,"y","2.40088"),E(i,"width","1.4"),E(i,"height","11.2"),E(i,"fill",t[0]),E(o,"d","M5.6 2.40088H9.8L7.7 0.300879L5.6 2.40088Z"),E(o,"fill",t[0]),E(r,"d","M9.8 13.6008L5.6 13.6008L7.7 15.7008L9.8 13.6008Z"),E(r,"fill",t[0]),E(l,"x","13.3"),E(l,"y","7.30078"),E(l,"width","1.4"),E(l,"height","11.2"),E(l,"transform","rotate(90 13.3 7.30078)"),E(l,"fill",t[0]),E(s,"d","M13.3 5.90088L13.3 10.1009L15.4 8.00088L13.3 5.90088Z"),E(s,"fill",t[0]),E(a,"d","M2.1 10.1008L2.1 5.90083L-1.52231e-06 8.00083L2.1 10.1008Z"),E(a,"fill",t[0]),E(n,"width","16"),E(n,"height","16"),E(n,"viewBox","0 0 16 16"),E(n,"fill","none"),E(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){g(e,n,t),h(n,i),h(n,o),h(n,r),h(n,l),h(n,s),h(n,a)},p(e,[t]){1&t&&E(i,"fill",e[0]),1&t&&E(o,"fill",e[0]),1&t&&E(r,"fill",e[0]),1&t&&E(l,"fill",e[0]),1&t&&E(s,"fill",e[0]),1&t&&E(a,"fill",e[0])},i:e,o:e,d(e){e&&m(n)}}}function Ei(e,t,n){let{stroke:i="#A0A0A0"}=t;return e.$$set=e=>{"stroke"in e&&n(0,i=e.stroke)},[i]}class Di extends ce{constructor(e){super(),ae(this,e,Ei,xi,l,{stroke:0})}}function ki(t){let n;return{c(){n=v("strong"),n.textContent="Unsupported field type"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}function Li(e){let t,n,i;function o(t){e[7](t)}let r={options:e[2].options,placeholder:e[2].placeholder,autocomplete:!0};return void 0!==e[0]&&(r.field=e[0]),t=new yi({props:r}),B.push((()=>oe(t,"field",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,i){const o={};4&i&&(o.options=e[2].options),4&i&&(o.placeholder=e[2].placeholder),!n&&1&i&&(n=!0,o.field=e[0],H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function Ai(e){let t,n,i;function o(t){e[6](t)}let r={options:e[2].options,placeholder:e[2].placeholder};return void 0!==e[0]&&(r.field=e[0]),t=new yi({props:r}),B.push((()=>oe(t,"field",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,i){const o={};4&i&&(o.options=e[2].options),4&i&&(o.placeholder=e[2].placeholder),!n&&1&i&&(n=!0,o.field=e[0],H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function Oi(e){let t,n,i;function o(t){e[5](t)}let r={placeholder:e[2].placeholder};return void 0!==e[0]&&(r.field=e[0]),t=new oi({props:r}),B.push((()=>oe(t,"field",o))),{c(){re(t.$$.fragment)},m(e,n){le(t,e,n),i=!0},p(e,i){const o={};4&i&&(o.placeholder=e[2].placeholder),!n&&1&i&&(n=!0,o.field=e[0],H((()=>n=!1))),t.$set(o)},i(e){i||(Q(t.$$.fragment,e),i=!0)},o(e){ee(t.$$.fragment,e),i=!1},d(e){se(t,e)}}}function _i(e){let t,n,i,o,r,l,s,a,c,d,u,f,p,y,$,b,D,k,L,A,O,_,T,C,S;i=new bi({});const M=[Oi,Ai,Li,ki],j=[];function N(e,t){return"text"===e[2].type?0:"select"===e[2].type?1:"autocomplete-select"===e[2].type?2:3}function W(t){e[8](t)}l=N(e),s=j[l]=M[l](e),d=new Di({});let I={};function F(t){e[9](t)}void 0!==e[0].negation&&(I.value=e[0].negation),f=new Fn({props:I}),B.push((()=>oe(f,"value",W)));let P={};function q(t){e[10](t)}void 0!==e[0].type&&(P.value=e[0].type),$=new ti({props:P}),B.push((()=>oe($,"value",F))),$.$on("change",e[4]);let R={disabled:e[1]};return void 0!==e[0].junction&&(R.value=e[0].junction),k=new Kn({props:R}),B.push((()=>oe(k,"value",q))),_=new Mn({}),{c(){t=v("div"),n=v("i"),re(i.$$.fragment),o=w(),r=v("div"),s.c(),a=w(),c=v("i"),re(d.$$.fragment),u=w(),re(f.$$.fragment),y=w(),re($.$$.fragment),D=w(),re(k.$$.fragment),A=w(),O=v("button"),re(_.$$.fragment),E(n,"class","drag-handle left-drag-handle svelte-w8niq3"),E(r,"class","input svelte-w8niq3"),E(c,"class","drag-handle center-drag-handle svelte-w8niq3"),E(O,"class","remove-field svelte-w8niq3"),E(t,"class","composite-field svelte-w8niq3")},m(s,p){g(s,t,p),h(t,n),le(i,n,null),h(t,o),h(t,r),j[l].m(r,null),h(t,a),h(t,c),le(d,c,null),h(t,u),le(f,t,null),h(t,y),le($,t,null),h(t,D),le(k,t,null),h(t,A),h(t,O),le(_,O,null),T=!0,C||(S=x(O,"click",e[3]),C=!0)},p(e,[t]){let n=l;l=N(e),l===n?j[l].p(e,t):(J(),ee(j[n],1,1,(()=>{j[n]=null})),K(),s=j[l],s?s.p(e,t):(s=j[l]=M[l](e),s.c()),Q(s,1),s.m(r,null));const i={};!p&&1&t&&(p=!0,i.value=e[0].negation,H((()=>p=!1))),f.$set(i);const o={};!b&&1&t&&(b=!0,o.value=e[0].type,H((()=>b=!1))),$.$set(o);const a={};2&t&&(a.disabled=e[1]),!L&&1&t&&(L=!0,a.value=e[0].junction,H((()=>L=!1))),k.$set(a)},i(e){T||(Q(i.$$.fragment,e),Q(s),Q(d.$$.fragment,e),Q(f.$$.fragment,e),Q($.$$.fragment,e),Q(k.$$.fragment,e),Q(_.$$.fragment,e),T=!0)},o(e){ee(i.$$.fragment,e),ee(s),ee(d.$$.fragment,e),ee(f.$$.fragment,e),ee($.$$.fragment,e),ee(k.$$.fragment,e),ee(_.$$.fragment,e),T=!1},d(e){e&&m(t),se(i),j[l].d(),se(d),se(f),se($),se(k),se(_),C=!1,S()}}}function Ti(e,t,n){let i;const o=N();let{field:r}=t,{isLast:l=!1}=t;return e.$$set=e=>{"field"in e&&n(0,r=e.field),"isLast"in e&&n(1,l=e.isLast)},e.$$.update=()=>{1&e.$$.dirty&&n(2,i=fe.definitions[r.type])},[r,l,i,()=>o("remove"),()=>n(0,r.value=null,r),function(e){r=e,n(0,r)},function(e){r=e,n(0,r)},function(e){r=e,n(0,r)},function(t){e.$$.not_equal(r.negation,t)&&(r.negation=t,n(0,r))},function(t){e.$$.not_equal(r.type,t)&&(r.type=t,n(0,r))},function(t){e.$$.not_equal(r.junction,t)&&(r.junction=t,n(0,r))}]}class Ci extends ce{constructor(e){super(),ae(this,e,Ti,_i,l,{field:0,isLast:1})}}function Si(e,t,n){const i=e.slice();return i[8]=t[n],i[9]=t,i[10]=n,i}function Mi(t,n){let i,o,r,l,s,a,c=e;function d(e){n[6](e,n[8],n[9],n[10])}let u={isLast:n[10]==n[0].length-1};return void 0!==n[8]&&(u.field=n[8]),o=new Ci({props:u}),B.push((()=>oe(o,"field",d))),o.$on("remove",(function(){return n[7](n[10])})),{key:t,first:null,c(){i=v("div"),re(o.$$.fragment),l=w(),this.first=i},m(e,t){g(e,i,t),le(o,i,null),h(i,l),a=!0},p(e,t){n=e;const i={};1&t&&(i.isLast=n[10]==n[0].length-1),!r&&1&t&&(r=!0,i.field=n[8],H((()=>r=!1))),o.$set(i)},r(){s=i.getBoundingClientRect()},f(){M(i),c()},a(){c(),c=S(i,s,Tn,{duration:300})},i(e){a||(Q(o.$$.fragment,e),a=!0)},o(e){ee(o.$$.fragment,e),a=!1},d(e){e&&m(i),se(o)}}}function ji(t){let n,i,l,s,a,c,d,u,f=[],p=new Map,y=t[0];const $=e=>e[8];for(let e=0;e<y.length;e+=1){let n=Si(t,y,e),i=$(n);p.set(i,f[e]=Mi(i,n))}return{c(){n=v("div"),i=v("div");for(let e=0;e<f.length;e+=1)f[e].c();s=w(),a=v("button"),a.innerHTML="<strong>+</strong>\n    Add search field",E(a,"class","add-field svelte-2l1e64"),E(a,"type","button"),E(n,"class","composite-form")},m(o,p){g(o,n,p),h(n,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);var m;h(n,s),h(n,a),c=!0,d||(u=[(m=l=An.call(null,i,{items:t[0],flipDurationMs:Ni,dropTargetStyle:t[1]}),m&&r(m.destroy)?m.destroy:e),x(i,"consider",t[4]),x(i,"finalize",t[5]),x(a,"click",t[2])],d=!0)},p(e,[t]){if(9&t){y=e[0],J();for(let e=0;e<f.length;e+=1)f[e].r();f=ie(f,t,$,1,e,y,p,i,ne,Mi,null,Si);for(let e=0;e<f.length;e+=1)f[e].a();K()}l&&r(l.update)&&1&t&&l.update.call(null,{items:e[0],flipDurationMs:Ni,dropTargetStyle:e[1]})},i(e){if(!c){for(let e=0;e<y.length;e+=1)Q(f[e]);c=!0}},o(e){for(let e=0;e<f.length;e+=1)ee(f[e]);c=!1},d(e){e&&m(n);for(let e=0;e<f.length;e+=1)f[e].d();d=!1,o(u)}}}const Ni=300;function Wi(e,t,n){let i;s(e,he,(e=>n(0,i=e)));const o=e=>{he.remove(e),i.length||he.addDefault()};return[i,{},()=>{he.addDefault()},o,function(e){a(he,i=e.detail.items,i)},function(e){a(he,i=e.detail.items,i)},function(e,t,n,o){n[o]=e,he.set(i)},e=>o(e)]}class Bi extends ce{constructor(e){super(),ae(this,e,Wi,ji,l,{})}}function Ii(e){let t,n;return t=new Bi({}),{c(){re(t.$$.fragment)},m(e,i){le(t,e,i),n=!0},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){se(t,e)}}}function Fi(e){let t,n,i=e[0]&&Ii();return{c(){i&&i.c(),t=b()},m(e,o){i&&i.m(e,o),g(e,t,o),n=!0},p(e,[n]){e[0]?i?1&n&&Q(i,1):(i=Ii(),i.c(),Q(i,1),i.m(t.parentNode,t)):i&&(J(),ee(i,1,1,(()=>{i=null})),K())},i(e){n||(Q(i),n=!0)},o(e){ee(i),n=!1},d(e){i&&i.d(e),e&&m(t)}}}function Pi(e,t,n){let i;s(e,pe,(e=>n(0,i=e)));let{definitions:o={}}=t,{order:r=[]}=t;return fe.setDefinitions(o,r),e.$$set=e=>{"definitions"in e&&n(1,o=e.definitions),"order"in e&&n(2,r=e.order)},[i,o,r]}return{App:class extends ce{constructor(e){super(),ae(this,e,Pi,Fi,l,{definitions:1,order:2})}},stores:me}}();
